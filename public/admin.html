<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Academic Wizard</title>
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>
    <div class="animated-bg"></div>
    <div class="stars-bg"></div>

    <header class="header">
        <div class="container">
            <div class="logo-container">
                <span class="logo-icon">ðŸ§™</span>
                <a href="index.html" class="logo">Academic<span class="logo-accent">Wizard</span></a>
            </div>
            <button class="hamburger" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="navbar">
                <a href="index.html" class="nav-link">Home</a>
                <a href="admin.html" class="nav-link active">Admin</a>
                <a href="#" onclick="logout()" class="btn btn-secondary btn-sm">Logout</a>
            </nav>
        </div>
    </header>

    <main class="dashboard-main">
        <section class="content-section">
            <div class="container">
                <h1 class="dashboard-header">Admin Dashboard</h1>
                
                <!-- Stats Overview -->
                <div class="admin-stats-overview">
                    <div class="stats-grid-enhanced">
                        <div class="stat-card-enhanced">
                            <div class="stat-icon users-icon">ðŸ‘¥</div>
                            <div class="stat-content">
                                <h3>Total Users</h3>
                                <p id="total-users" class="stat-value-enhanced">-</p>
                                <p class="stat-detail" id="users-breakdown">Loading...</p>
                            </div>
                        </div>
                        <div class="stat-card-enhanced">
                            <div class="stat-icon bookings-icon">ðŸ“š</div>
                            <div class="stat-content">
                                <h3>Total Bookings</h3>
                                <p id="total-bookings" class="stat-value-enhanced">-</p>
                                <p class="stat-detail" id="bookings-breakdown">Loading...</p>
                            </div>
                        </div>
                        <div class="stat-card-enhanced">
                            <div class="stat-icon tutors-icon">ðŸŽ“</div>
                            <div class="stat-content">
                                <h3>Active Tutors</h3>
                                <p id="total-tutors" class="stat-value-enhanced">-</p>
                                <p class="stat-detail" id="tutors-breakdown">Loading...</p>
                            </div>
                        </div>
                        <div class="stat-card-enhanced">
                            <div class="stat-icon resources-icon">ðŸ“–</div>
                            <div class="stat-content">
                                <h3>Resources</h3>
                                <p id="total-resources" class="stat-value-enhanced">-</p>
                                <p class="stat-detail" id="resources-breakdown">Loading...</p>
                            </div>
                        </div>
                        <div class="stat-card-enhanced">
                            <div class="stat-icon revenue-icon">ðŸ’°</div>
                            <div class="stat-content">
                                <h3>Total Revenue</h3>
                                <p id="total-revenue" class="stat-value-enhanced">-</p>
                                <p class="stat-detail" id="revenue-breakdown">Loading...</p>
                            </div>
                        </div>
                        <div class="stat-card-enhanced">
                            <div class="stat-icon students-icon">ðŸŽ¯</div>
                            <div class="stat-content">
                                <h3>Active Students</h3>
                                <p id="active-students" class="stat-value-enhanced">-</p>
                                <p class="stat-detail" id="students-breakdown">Loading...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity and Trends -->
                    <div class="activity-trends">
                        <div class="activity-card">
                            <h3>Recent Activity</h3>
                            <ul id="recent-activity-list" class="activity-list">
                                <li class="activity-item loading">Loading recent activity...</li>
                            </ul>
                        </div>
                        <div class="trends-card">
                            <h3>This Week Overview</h3>
                            <div class="trends-list" id="trends-summary">
                                <div class="trend-item">
                                    <span class="trend-label">New Users:</span>
                                    <span class="trend-value" id="users-this-week">-</span>
                                </div>
                                <div class="trend-item">
                                    <span class="trend-label">New Bookings:</span>
                                    <span class="trend-value" id="bookings-this-week">-</span>
                                </div>
                                <div class="trend-item">
                                    <span class="trend-label">Completed Sessions:</span>
                                    <span class="trend-value" id="completed-this-week">-</span>
                                </div>
                                <div class="trend-item">
                                    <span class="trend-label">Pending Bookings:</span>
                                    <span class="trend-value" id="pending-bookings">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions-section">
                    <h2>Quick Actions</h2>
                    <div class="quick-actions-grid">
                        <button class="action-btn" onclick="document.getElementById('createTutorForm').scrollIntoView({behavior: 'smooth'})">
                            <span class="action-icon">âž•</span>
                            <span>Create Tutor</span>
                        </button>
                        <button class="action-btn" onclick="document.getElementById('resources-section').scrollIntoView({behavior: 'smooth'})">
                            <span class="action-icon">ðŸ“„</span>
                            <span>Add Resource</span>
                        </button>
                        <button class="action-btn" onclick="document.getElementById('bookings-section').scrollIntoView({behavior: 'smooth'})">
                            <span class="action-icon">ðŸ“…</span>
                            <span>View Bookings</span>
                        </button>
                        <button class="action-btn" onclick="document.getElementById('tutors-search').focus(); document.getElementById('tutors-search').scrollIntoView({behavior: 'smooth'})">
                            <span class="action-icon">ðŸ‘¤</span>
                            <span>Manage Tutors</span>
                        </button>
                    </div>
                </div>

                <!-- Create Tutor Account -->
                <div class="admin-section">
                    <h2 class="centered">Create Tutor Account</h2>
                    <div id="tutor-messages"></div>
                    <form id="createTutorForm" class="admin-form">
                        <div class="form-group">
                            <label for="tutor-name">Tutor Name *</label>
                            <input type="text" id="tutor-name" required>
                        </div>
                        <div class="form-group">
                            <label for="tutor-email">Email *</label>
                            <input type="email" id="tutor-email" required>
                        </div>
                        <div class="form-group">
                            <label for="tutor-password">Password *</label>
                            <input type="password" id="tutor-password" required minlength="8">
                        </div>
                        <div class="form-group">
                            <label for="tutor-phone">Phone</label>
                            <input type="tel" id="tutor-phone">
                        </div>
                        <div class="form-group">
                            <label for="tutor-subjects">Subjects (comma-separated) *</label>
                            <input type="text" id="tutor-subjects" required placeholder="e.g., Mathematics, Physics, Chemistry">
                            <small style="color: var(--text-muted);">Separate multiple subjects with commas</small>
                        </div>
                        <div class="form-group">
                            <label for="tutor-rate">Hourly Rate (Â£) *</label>
                            <input type="number" id="tutor-rate" required min="10" max="200" step="5" value="35">
                        </div>
                        <div class="form-group">
                            <label for="tutor-bio">Bio/Description</label>
                            <textarea id="tutor-bio" rows="3" placeholder="Brief description of tutor's experience and expertise"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Create Tutor Account</button>
                    </form>
                </div>

                <!-- Manage Tutors -->
                <div class="admin-section with-divider">
                    <div class="section-divider"></div>
                    <h2>Manage Tutors</h2>
                    <div class="search-bar">
                        <input type="text" id="tutors-search" placeholder="ðŸ” Search tutors by name, email, or subject...">
                    </div>
                    <div id="tutors-list" class="list-container">
                        <p style="color: var(--text-muted);">Loading...</p>
                    </div>
                    <div id="tutors-pagination" class="pagination pagination-wrapper"></div>
                </div>

                <!-- Manage Students -->
                <div class="admin-section with-divider">
                    <div class="section-divider"></div>
                    <h2>Manage Students</h2>
                    <div class="search-bar">
                        <input type="text" id="students-search" placeholder="ðŸ” Search students by name, email, or phone...">
                    </div>
                    <div id="students-list" class="list-container">
                        <p style="color: var(--text-muted);">Loading...</p>
                    </div>
                    <div id="students-pagination" class="pagination pagination-wrapper"></div>
                </div>

                <!-- Manage Resources -->
                <div class="admin-section with-divider" id="resources-section">
                    <div class="section-divider"></div>
                    <h2 class="centered">Manage Resources</h2>
                    <div id="resource-messages"></div>
                    <form id="uploadResourceForm" class="admin-form">
                        <div class="form-group">
                            <label for="resource-title">Resource Title *</label>
                            <input type="text" id="resource-title" required>
                        </div>
                        <div class="form-group">
                            <label for="resource-level">Level *</label>
                            <select id="resource-level" required>
                                <option value="">-- Select Level --</option>
                                <option value="KS3">KS3 (Ages 11-14)</option>
                                <option value="GCSE">GCSE (Ages 14-16)</option>
                                <option value="A-Level">A-Level (Ages 16-18)</option>
                                <option value="All">All Levels</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="resource-subject">Subject *</label>
                            <input type="text" id="resource-subject" required placeholder="e.g., Mathematics, Physics">
                        </div>
                        <div class="form-group">
                            <label for="resource-description">Description *</label>
                            <textarea id="resource-description" rows="3" required placeholder="Brief description of the resource"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="resource-url">Resource URL *</label>
                            <input type="url" id="resource-url" required placeholder="https://example.com/resource.pdf">
                            <small style="color: var(--text-muted);">Link to Google Drive, Dropbox, or other file hosting</small>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Resource</button>
                    </form>
                    <div class="horizontal-divider"></div>
                    <div class="resources-header">
                        <h3>Current Resources</h3>
                        <div class="search-bar">
                            <input type="text" id="resources-search" placeholder="ðŸ” Search resources...">
                        </div>
                    </div>
                    <div id="resources-list" class="list-container">
                        <p style="color: var(--text-muted);">Loading...</p>
                    </div>
                    <div id="resources-pagination" class="pagination pagination-wrapper"></div>
                </div>

                <!-- Manage Bookings -->
                <div class="admin-section with-divider" id="bookings-section">
                    <div class="section-divider"></div>
                    <h2>Manage Bookings</h2>
                    <div class="search-bar">
                        <input type="text" id="bookings-search" placeholder="ðŸ” Search bookings by student, tutor, or subject...">
                    </div>
                    <div id="bookings-list" class="list-container">
                        <p style="color: var(--text-muted);">Loading...</p>
                    </div>
                    <div id="bookings-pagination" class="pagination pagination-wrapper"></div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Academic Wizard</h3>
                    <p>Admin Dashboard</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Academic Wizard. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Custom Modals -->
    <div id="modal-overlay" class="modal-overlay" style="display: none;">
        <!-- Confirm Dialog -->
        <div id="confirm-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3 id="confirm-title">Confirm Action</h3>
                <p id="confirm-message"></p>
                <div class="modal-actions">
                    <button id="confirm-cancel" class="btn btn-secondary">Cancel</button>
                    <button id="confirm-ok" class="btn btn-primary">Confirm</button>
                </div>
            </div>
        </div>

        <!-- Edit Tutor Dialog -->
        <div id="edit-tutor-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Edit Tutor</h3>
                <form id="edit-tutor-form">
                    <div class="form-group">
                        <label for="edit-tutor-name">Name</label>
                        <input type="text" id="edit-tutor-name" placeholder="Leave blank to skip">
                    </div>
                    <div class="form-group">
                        <label for="edit-tutor-phone">Phone</label>
                        <input type="tel" id="edit-tutor-phone" placeholder="Leave blank to skip">
                    </div>
                    <div class="modal-actions">
                        <button type="button" id="edit-tutor-cancel" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Edit Booking Dialog -->
        <div id="edit-booking-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Edit Booking</h3>
                <form id="edit-booking-form">
                    <div class="form-group">
                        <label for="edit-booking-date">Session Date</label>
                        <input type="date" id="edit-booking-date" placeholder="Leave blank to skip">
                    </div>
                    <div class="form-group">
                        <label for="edit-booking-time">Session Time</label>
                        <input type="time" id="edit-booking-time" placeholder="Leave blank to skip">
                    </div>
                    <div class="modal-actions">
                        <button type="button" id="edit-booking-cancel" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Success/Error Message Dialog -->
        <div id="message-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3 id="message-title">Success</h3>
                <p id="message-text"></p>
                <div class="modal-actions">
                    <button id="message-ok" class="btn btn-primary">OK</button>
                </div>
            </div>
        </div>
    </div>

    <script src="javascript/api.js"></script>
    <script src="javascript/admin.js"></script>
    <script src="javascript/navbar.js"></script>
</body>
</html>
